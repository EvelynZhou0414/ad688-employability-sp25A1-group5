<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Group 5">
<meta name="dcterms.date" content="2025-05-02">

<title>Job Market Analysis 2024 - Research Introduction: AI vs.&nbsp;Non-AI Careers</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Job Market Analysis 2024</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./introduction.html"> 
<span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./data_cleaning.html"> 
<span class="menu-text">Data Cleaning &amp; Exploration</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./eda.html"> 
<span class="menu-text">Exploratory Data Analysis</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./skill_gap_analysis.html"> 
<span class="menu-text">Skill Gap Analysis</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./ml_methods.html"> 
<span class="menu-text">ML Methods</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./nlp_methods.qmd/ipynb"> 
<span class="menu-text">NLP Methods</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#market-trends" id="toc-market-trends" class="nav-link active" data-scroll-target="#market-trends"><strong>Market Trends</strong></a></li>
  <li><a href="#skill-analysis" id="toc-skill-analysis" class="nav-link" data-scroll-target="#skill-analysis"><strong>Skill analysis</strong></a></li>
  <li><a href="#career-strategy-recommendations" id="toc-career-strategy-recommendations" class="nav-link" data-scroll-target="#career-strategy-recommendations"><strong>Career Strategy Recommendations</strong></a></li>
  <li><a href="#personal-career-strategic-plan" id="toc-personal-career-strategic-plan" class="nav-link" data-scroll-target="#personal-career-strategic-plan"><strong>Personal career strategic plan</strong></a>
  <ul class="collapse">
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Research Introduction: AI vs.&nbsp;Non-AI Careers</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Group 5 </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 2, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="market-trends" class="level1">
<h1><strong>Market Trends</strong></h1>
<p>AI is generating jobs and causing some effects in fields like healthcare, finance, and technology. In healthcare, they’re using AI to simplify diagnoses, discover new drugs, and tailor medicine to individuals, which is creating more demand for those familiar with AI in medicine (Medium, 2024). In finance, they’re using AI for fraud detection, risk assessment, and high-frequency trading, so there’s greater demand for data analysts and machine learning specialists too (Globalization Partners, 2024).</p>
<p>Although AI has created many new positions in some fields, it’s also making individuals to lose their jobs in some industries based on the same old repetitive and manual work. These days retail and manufacturing businesses are losing traditional jobs since robots and automation, some of which uses AI, are doing the human work (Innopharma Education, 2024). And what about customer support roles? Well, they’re at risk too since AI chatbots and virtual assistants are responding to more and more customer inquiries. They are creating less need for human representatives (Nexford, 2024).</p>
<p>AI jobs also get paid much more than average. If we look at fields like data science, AI engineering, and cloud computing, those professionals make a lot more than professionals like accounting, mechanical engineering, or retail. In addition, AI job postings are still increasing, especially in tech hubs like Silicon Valley, Boston, and Austin, where companies are especially willing to recruit AI talent (Globalization Partners, 2024).</p>
<p>Companies are indeed searching for AI professionals in areas like machine learning, cybersecurity, and automation. However, since there is a shortage of qualified AI professionals, those who have AI skills can command relatively decent salaries and perks. New industries like fintech and AI-driven healthcare are booming with job growth, which is a positive development for anyone who has AI-related skills (Medium, 2024).</p>
</section>
<section id="skill-analysis" class="level1">
<h1><strong>Skill analysis</strong></h1>
<p>The demand for AI skills grew 4 times over the period from 2010 to 2019. Firms are striving to hire more employees with AI-related skills, especially in the last three years, and the demand is still gaining momentum <span class="citation" data-cites="ai_labor_market_2021">(<a href="#ref-ai_labor_market_2021" role="doc-biblioref">Acemoglu and Restrepo (2021)</a>)</span>. AI skills are important for technical positions. What’s more, these skills can provide a competitive salary advantage in managerial positions. We can focus on both technical and non-technical skills required for AI related jobs and analyze their importance in the job market.</p>
<p>For technical skills, Python, R and Java are the most frequently used AI tools for data analysis. When a company needs to clean large datasets, employees or employers who are familiar with data modeling, data warehousing, and big data processing can use Hadoop, Spark, and SQL database tools to solve problems. Employees who have designing experience can do better when optimizing machine learning models for different applications. TensorFlow, PyTorch, and scikit-learn can be applied in training and optimizing AI models. In the aspect of AI Security, all corporations should be aware of AI-related security threats to prevent from attacks in AI models, so they can develop strategies in advance to ensure AI usage.</p>
<p>For non-technical skills, translating complex AI texts, some concepts and models into understandable language for administrators is one of the most important abilities. People should follow emerging AI trends, new algorithms, and evolving technologies and continue learning new AI tools and adjusting strategies for the company.</p>
</section>
<section id="career-strategy-recommendations" class="level1">
<h1><strong>Career Strategy Recommendations</strong></h1>
<p>A large number of ready AI tools, mainly in the Machine Learning (ML) field that has dominated the last decades of 21st century, offer opportunities to businesses and organizations to get involved and built machine learning solutions for their needs and customers<span class="citation" data-cites="ai_economics_2023">(<a href="#ref-ai_economics_2023" role="doc-biblioref">Jones and Tonetti (2023)</a>)</span>. CFA and FRM courses provide knowledge in financial and risk management. To enhance AI deployment capabilities, professionals can get certifications such as AWS Certified Machine Learning – Specialty, Microsoft Azure AI Engineer Associate, and Google Cloud Professional Data Engineer. These certifications provide whole framework of building, deploying, and managing AI solutions on cloud platforms. Professionals looking to excel in AI and data-driven fields should develop strong proficiency in programming and data manipulation, particularly with Python, SQL, R, and Spark. Lastly, learning something in big data processing such as Hadoop, Kubernetes, and MLOps can help company process data efficiently.</p>
<p>While AI is emerging in many different industries, non-AI remains, particularly in fields that combine AI with traditional tools. Industries such as finance, healthcare, manufacturing, and marketing still require professionals about financials domaintly, even if AI plays a supporting role. Instead of fully changing to AI, professionals in finance, project management, healthcare, and marketing can still enhance their competitiveness by gaining AI and other data-driven skills. However, for those who are seeking higher salaries, transitioning into AI-related postions can definitely be highly beneficial.</p>
</section>
<section id="personal-career-strategic-plan" class="level1">
<h1><strong>Personal career strategic plan</strong></h1>
<p><strong>Liyang Zhou</strong></p>
<p>Target position: Market Research Analyst</p>
<p>Target Industry: Automotive Industry</p>
<p>Step 1: Skills to Learn</p>
<p>Goal: In the next 6 months, improve market analysis skills and master the fundamentals of data analysis and machine learning.</p>
<p>Skills Learning:</p>
<p>• Tools: Master Power BI, Excel, SQL, Python &amp; R for data processing and visualization.</p>
<p>• Familiar with SWOT analysis and KPI monitoring for industry competition analysis and market positioning.</p>
<p>• Learning Data-Driven Decision Making</p>
<p>Step 2: Networking Strategies</p>
<p>Objective: To build industry contacts and obtain more career development opportunities related to market research.</p>
<p>Action Plan:</p>
<p>• Connect with 5-10 market research professionals in your field on LinkedIn.</p>
<p>• Attend the Boston university career fair to network with potential employers.</p>
<p>Step 3: Target Companies</p>
<p>Objective: Apply for and enter an automotive related market research position within 6 months, focusing on market data analysis and consumer behavior research.</p>
<p>Target company</p>
<p>1.Tesla (Automotive Market Analyst)</p>
<p>2.BMW (Consumer Trends Researcher)</p>
<p>3.NIO (New Energy Vehicle Market Analyst)</p>
<p>Application Strategy:</p>
<p>• Improve your chances of being interviewed by applying for targeted jobs through internal recommendations on LinkedIn.</p>
<p>• Adjust your resume to highlight experience in analytical projects in relevant industries.</p>
<p><strong>Yutong Qian</strong></p>
<p>Step1 Skills to Learn</p>
<p>Goal: For working in strategy and decision, I should strengthen business and financial analytics skills.</p>
<p>Skills to Learn:</p>
<p>Tools: Master SQL, Python, R, Excel, and Power BI for data cleaning, processing and visualizing.</p>
<p>Courses: The courses I can learn in BU classes.</p>
<p>Decision-Making Strategies: Learn framework for data processing in order to improve working efficiency in strategy and making decisions.</p>
<p>Other Skills: Improving communication skills and writing are crucial when I working with a team.</p>
<p>Step2 Networking Strategies</p>
<p>Goal: I think that enlarging horizon in business analytics by finding financial professors helps is crucial for searching for more job opportunities. Action Plan:</p>
<p>Participate in discussions in Business Analytics &amp; Financial Analysis Groups. Connecting classmates or other alumni can help us for business experience and advice. Also, asking advisors for help when I prepare my resume for job application.</p>
<p>Step3 Target Companies</p>
<p>Goal: I can focus on industries that associated with both business analytics and management accounting backgrounds in future, for example, a business analyst, financial analyst, or data analyst position in a financial and consulting company or others.</p>
<p>Target Companies and Positions:</p>
<p>Amazon (Financial &amp; Business Intelligence Analyst)</p>
<p>Google (Business/Data Analyst, Finance &amp; Strategy)</p>
<p>Deloitte (Financial Advisory &amp; Data Analytics Consultant)</p>
<p>Application Strategies:</p>
<p>Get more experience through internships will help me enhance my problem-solving skills and make me become more competitive when facing with job application.</p>
<p><strong>Mulai Jiang</strong></p>
<p>Target Position: Financial Data Analyst</p>
<p>Target Industry: Fintech &amp; Investment Banking</p>
<p>Step 1: Skills to Learn</p>
<p>Goal:</p>
<p>Within the next two years, enhance technical expertise in financial data analytics and deepen knowledge of financial markets.</p>
<p>Key Skills to Acquire:</p>
<p>Tools Mastery: Python, SQL, and machine learning for data processing, financial modeling, and predictive analytics.</p>
<p>Financial Market Knowledge: Portfolio optimization, risk modeling, financial forecasting, and investment analysis.</p>
<p>Certifications: Prepare for CFA or FRM to strengthen financial expertise and industry credibility.</p>
<p>Step 2: Networking Strategies</p>
<p>Objective:</p>
<p>Expand professional connections and gain insights into career opportunities in financial data analytics.</p>
<p>Action Plan:</p>
<p>Connect with 5-10 financial data analysts, fintech professionals, and investment bankers on LinkedIn.</p>
<p>Attend industry conferences, networking events, and career fairs focused on fintech and investment banking.</p>
<p>Conduct informational interviews with professionals in quantitative modeling, risk analytics, and financial forecasting roles.</p>
<p>Step 3: Target Companies and Positions:</p>
<p>Deloitte (Financial Modeling &amp; Risk Consulting)</p>
<p>PwC (Market Risk &amp; Compliance Analytics)</p>
<p>Bloomberg (Financial Market Trends &amp; Data Visualization)</p>
<p><strong>Chao Huang</strong></p>
<p>Target Position: Market Research Analyst</p>
<p>Target Industry: Healthcare Consulting</p>
<p>Step 1: Skills to Learn</p>
<p>Goal:</p>
<p>Within the next 6 months, enhance market analysis expertise and develop strong proficiency in data analytics and machine learning fundamentals.</p>
<p>Key Skills to Acquire:</p>
<p>Tools Mastery: Power BI, Excel, SQL, Python, and R for data processing and visualization.</p>
<p>Market Analysis Techniques: Familiarity with SWOT analysis, KPI monitoring, and competitive benchmarking in the healthcare sector.</p>
<p>Data-Driven Decision-Making: Understanding how to leverage data for business insights and strategic planning.</p>
<p>Step 2: Networking Strategies</p>
<p>Objective:</p>
<p>Build industry connections and explore career advancement opportunities in market research within healthcare consulting.</p>
<p>Action Plan:</p>
<p>Connect with 5-10 healthcare market research professionals on LinkedIn.</p>
<p>Attend Boston University career fairs and industry conferences focused on healthcare consulting.</p>
<p>Engage in informational interviews with professionals working at top healthcare consulting firms.</p>
<p>Step 3: Target Companies</p>
<p>Objective:</p>
<p>Secure a market research analyst role in the healthcare consulting industry within 6 months, focusing on market data analysis and healthcare consumer behavior trends.</p>
<p>Target Companies:</p>
<p>McKinsey &amp; Company (Healthcare Market Research Analyst)</p>
<p>IQVIA (Healthcare Data &amp; Market Insights Analyst)</p>
<p>ZS Associates (Healthcare Consulting Market Analyst)</p>
<p>Application Strategy:</p>
<p>Increase interview opportunities by leveraging internal referrals on LinkedIn.</p>
<p>Optimize resume to emphasize market research experience, data analytics projects, and industry-relevant case studies.</p>
<p>Gain exposure to real-world healthcare consulting cases by participating in related projects or competitions.</p>
<section id="references" class="level2">




</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-ai_labor_market_2021" class="csl-entry" role="listitem">
<span class="smallcaps">Acemoglu, D., and P. Restrepo</span>. (2021): <span>“<a href="https://doi.org/10.1016/j.labeco.2021.102003">The impact of artificial intelligence on labor markets</a>,”</span> <em>Labour Economics</em>, 71, 102003.
</div>
<div id="ref-ai_economics_2023" class="csl-entry" role="listitem">
<span class="smallcaps">Jones, C., and C. Tonetti</span>. (2023): <span>“<a href="https://doi.org/10.4337/9781839106750.00035">The Economics of Artificial Intelligence: Firm, Market, and Policy Implications</a>,”</span> in <em>The economics of artificial intelligence: A research agenda</em>, Edward Elgar Publishing, 560–78.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>